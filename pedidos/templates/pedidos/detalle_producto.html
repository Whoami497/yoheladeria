{% extends 'pedidos/base.html' %}

{% block content %}
<div class="container mt-5">
    <div class="row">
        <div class="col-md-6">
            {% if producto.imagen %}
                <img src="{{ producto.imagen.url }}" class="img-fluid rounded" alt="{{ producto.nombre }}">
            {% else %}
                <div class="border rounded bg-light d-flex align-items-center justify-content-center" style="height: 400px;">
                    <span>Sin imagen</span>
                </div>
            {% endif %}
        </div>

        <div class="col-md-6">
            <a href="{% url 'index' %}">&larr; Volver al catálogo</a>
            <h1 class="mt-3">{{ producto.nombre }}</h1>
            <h3 class="text-muted">${{ producto.precio|floatformat:2 }}</h3>
            <p class="lead">Puedes elegir hasta {{ producto.sabores_maximos }} sabores.</p>
            <hr>

            <h4>Elige tus sabores:</h4>
            <form action="" method="post">
                {% csrf_token %}
                <div class="mb-3">
                    {% for sabor in sabores %}
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" name="sabores" value="{{ sabor.id }}" id="sabor-{{ sabor.id }}">
                        <label class="form-check-label" for="sabor-{{ sabor.id }}">
                            {{ sabor.nombre }}
                        </label>
                    </div>
                    {% endfor %}
                </div>
                <button type="submit" class="btn btn-success btn-lg">Añadir al Carrito</button>
            </form>
        </div>
    </div>
</div>
{% endblock %}