{% extends 'pedidos/base.html' %}

{% block content %}
<div class="container mt-5">
    <h1>ðŸ›’ Mi Carrito de Compras ðŸ›’</h1>
    <hr>
    <div class="row">
        <div class="col-md-7">
            <h4>Resumen de tu pedido:</h4>
            {% if carrito %}
                <ul class="list-group mb-3">
                    {% for item in carrito %}
                        <li class="list-group-item d-flex justify-content-between lh-sm">
                            <div>
                                <h6 class="my-0">{{ item.producto_nombre }}</h6>
                                </div>
                            <span class="text-muted">${{ item.precio|floatformat:2 }}</span>
                        </li>
                    {% endfor %}
                    <li class="list-group-item d-flex justify-content-between">
                        <span>Total (ARS)</span>
                        <strong>${{ total|floatformat:2 }}</strong>
                    </li>
                </ul>
            {% else %}
                <div class="alert alert-info" role="alert">
                    Tu carrito estÃ¡ vacÃ­o. <a href="{% url 'index' %}" class="alert-link">Â¡Empieza a comprar!</a>
                </div>
            {% endif %}
        </div>

        <div class="col-md-5">
            <h4>Completa tus datos para finalizar</h4>
            <div class="card p-4">
                <form action="" method="post">
                    {% csrf_token %}
                    <div class="mb-3">
                        <label for="nombre" class="form-label">Nombre Completo</label>
                        <input type="text" class="form-control" id="nombre" name="cliente_nombre" required>
                    </div>
                    <div class="mb-3">
                        <label for="direccion" class="form-label">DirecciÃ³n de Entrega</label>
                        <input type="text" class="form-control" id="direccion" name="cliente_direccion" required>
                    </div>
                    <div class="mb-3">
                        <label for="telefono" class="form-label">TelÃ©fono (opcional)</label>
                        <input type="text" class="form-control" id="telefono" name="cliente_telefono">
                    </div>
                    <hr class="my-4">
                    <button class="w-100 btn btn-primary btn-lg" type="submit">Realizar Pedido</button>
                </form>
            </div>
        </div>
    </div>
</div>
{% endblock %}